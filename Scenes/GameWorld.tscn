[gd_scene load_steps=55 format=3 uid="uid://t3tuvg62hddg"]

[ext_resource type="PackedScene" uid="uid://c7fme73utoj8r" path="res://Scenes/Player.tscn" id="1_q75nt"]
[ext_resource type="Script" uid="uid://do6hxa3isqpqx" path="res://Scripts/GameWorld.gd" id="1_ui0sf"]
[ext_resource type="PackedScene" uid="uid://demqt51ot5psy" path="res://Scenes/Props/ConcreteBlock.tscn" id="2_cllky"]
[ext_resource type="PackedScene" uid="uid://yut87k2kiarb" path="res://Scenes/Props/TrafficBarrier.tscn" id="3_0alvi"]
[ext_resource type="Texture2D" uid="uid://b1mcylrhg82dd" path="res://Assets/Textures/Ground037_256-PNG_Color.png" id="3_rpegc"]
[ext_resource type="PackedScene" uid="uid://bummvyb5oango" path="res://Scenes/ContagiousParticles.tscn" id="4_4qruq"]
[ext_resource type="PackedScene" uid="uid://cr2nw7rtpcavj" path="res://Scenes/BulletHole.tscn" id="4_30f34"]
[ext_resource type="Texture2D" uid="uid://ba1047cgugaw1" path="res://Assets/Textures/Ground037_256-PNG_NormalGL.png" id="4_xtikl"]
[ext_resource type="Texture2D" uid="uid://dt7cyh1jthtp4" path="res://Assets/Textures/Ground031_256-PNG_Color.png" id="5_k07wl"]
[ext_resource type="PackedScene" uid="uid://ci41n75ovkiwf" path="res://Scenes/Props/Bush.tscn" id="6_4qruq"]
[ext_resource type="Texture2D" uid="uid://bk85tg3mktayx" path="res://Assets/Textures/Ground031_256-PNG_NormalGL.png" id="6_kycso"]
[ext_resource type="PackedScene" uid="uid://mu4pfdt6h0mc" path="res://Scenes/Props/Longhouse.tscn" id="8_jh678"]
[ext_resource type="Shader" uid="uid://705mddt8cnpr" path="res://Scenes/WaterShader.gdshader" id="8_k07wl"]
[ext_resource type="Texture2D" uid="uid://dq654mwhu7ne" path="res://Assets/Textures/Two_lanes_road_texture.png" id="8_n0d5i"]
[ext_resource type="Shader" uid="uid://b36bp6qb3b776" path="res://Scripts/FenceShader.gdshader" id="9_hfae5"]
[ext_resource type="PackedScene" uid="uid://b88rrobcqahjw" path="res://Scenes/Props/StreetLamp.tscn" id="9_vkc4h"]
[ext_resource type="Texture2D" uid="uid://csclo1k4n5vb7" path="res://Assets/Textures/Fence008A_256_Color.png" id="10_clku2"]
[ext_resource type="PackedScene" uid="uid://bifd3bbd0du2k" path="res://Scenes/Props/LabFacility.tscn" id="10_m5hn3"]
[ext_resource type="Texture2D" uid="uid://ciwmxovfgk1ft" path="res://Assets/Textures/Fence008A_256_NormalGL.png" id="11_oavat"]
[ext_resource type="Texture2D" uid="uid://bf31a4pq3w6r5" path="res://Assets/Textures/Fence008A_256_Opacity.png" id="12_n0d5i"]
[ext_resource type="Script" uid="uid://duw537farqvfb" path="res://addons/road-generator/nodes/road_manager.gd" id="13_cllky"]
[ext_resource type="Script" uid="uid://b88uilprtp72h" path="res://addons/road-generator/nodes/road_container.gd" id="15_ytq2i"]
[ext_resource type="Script" uid="uid://ccq2mgglnelky" path="res://addons/road-generator/nodes/road_point.gd" id="16_4qruq"]
[ext_resource type="PackedScene" uid="uid://llq8nmw3tqjv" path="res://Scenes/PickupSpawnMarker.tscn" id="19_k0w3b"]
[ext_resource type="PackedScene" uid="uid://bmh16prrkqmnx" path="res://Scenes/Props/Road4Way1x1Intersection.tscn" id="20_m5hn3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tr2i4"]

[sub_resource type="Sky" id="Sky_nhkr4"]
sky_material = SubResource("ProceduralSkyMaterial_tr2i4")

[sub_resource type="Environment" id="Environment_7rqgy"]
background_mode = 2
sky = SubResource("Sky_nhkr4")
glow_enabled = true
glow_normalized = true
glow_blend_mode = 0
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.676897, 0.784936, 0.856733, 1)
fog_density = 1.0
fog_depth_curve = 0.75
fog_depth_begin = 0.0
fog_depth_end = 0.0
volumetric_fog_albedo = Color(0.676897, 0.784936, 0.856733, 1)

[sub_resource type="Gradient" id="Gradient_m5hn3"]
offsets = PackedFloat32Array(0.2, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_e25jp"]
noise_type = 2
cellular_jitter = 3.0
cellular_return_type = 0
domain_warp_enabled = true
domain_warp_type = 1
domain_warp_amplitude = 50.0
domain_warp_fractal_type = 2
domain_warp_fractal_lacunarity = 1.5
domain_warp_fractal_gain = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_k0w3b"]
color_ramp = SubResource("Gradient_m5hn3")
noise = SubResource("FastNoiseLite_e25jp")

[sub_resource type="Terrain3DMaterial" id="Terrain3DMaterial_llaiv"]
_shader_parameters = {
&"auto_base_texture": 1,
&"auto_height_reduction": 0.1,
&"auto_overlay_texture": 0,
&"auto_slope": 1.0,
&"bias_distance": 512.0,
&"blend_sharpness": 0.6,
&"contour_color": Color(0.92828, 0.924193, 0, 1),
&"contour_interval": 0.25,
&"contour_thickness": 3.0,
&"depth_blur": 0.0,
&"dual_scale_far": 170.0,
&"dual_scale_near": 100.0,
&"dual_scale_reduction": 0.3,
&"dual_scale_texture": 1,
&"enable_macro_variation": true,
&"enable_projection": true,
&"flat_terrain_normals": false,
&"macro_variation1": Color(0.904435, 0.904379, 0.941421, 1),
&"macro_variation2": Color(0.865779, 0.912061, 0.943361, 1),
&"macro_variation_slope": 0.333,
&"mipmap_bias": 1.0,
&"noise1_angle": 0.5,
&"noise1_offset": Vector2(0.5, 0.5),
&"noise1_scale": 0.2,
&"noise2_scale": 0.15,
&"noise_texture": SubResource("NoiseTexture2D_k0w3b"),
&"projection_threshold": 0.8,
&"tri_scale_reduction": 0.3
}
texture_filtering = 1
auto_shader = true
dual_scaling = true
show_contours = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n0d5i"]
transparency = 4
cull_mode = 2
vertex_color_use_as_albedo = true
backlight_enabled = true
backlight = Color(0.5, 0.5, 0.5, 1)
distance_fade_mode = 1
distance_fade_min_distance = 128.0
distance_fade_max_distance = 96.0

[sub_resource type="Terrain3DMeshAsset" id="Terrain3DMeshAsset_cllky"]
generated_type = 1
height_offset = 0.5
material_override = SubResource("StandardMaterial3D_n0d5i")
last_lod = 0
last_shadow_lod = 0
lod0_range = 128.0

[sub_resource type="Terrain3DMeshAsset" id="Terrain3DMeshAsset_vg07e"]
name = "Bush"
id = 1
scene_file = ExtResource("6_4qruq")
height_offset = 1.0
density = 0.0933621
cast_shadows = 0
last_lod = 0
last_shadow_lod = 0
lod0_range = 128.0

[sub_resource type="Terrain3DTextureAsset" id="Terrain3DTextureAsset_hfae5"]
name = "Ground037_256-PNG_Color"
albedo_texture = ExtResource("3_rpegc")
normal_texture = ExtResource("4_xtikl")

[sub_resource type="Terrain3DTextureAsset" id="Terrain3DTextureAsset_w0qho"]
name = "Ground031_256-PNG_Color"
id = 1
albedo_texture = ExtResource("5_k07wl")
normal_texture = ExtResource("6_kycso")

[sub_resource type="Terrain3DAssets" id="Terrain3DAssets_clku2"]
mesh_list = Array[Terrain3DMeshAsset]([SubResource("Terrain3DMeshAsset_cllky"), SubResource("Terrain3DMeshAsset_vg07e")])
texture_list = Array[Terrain3DTextureAsset]([SubResource("Terrain3DTextureAsset_hfae5"), SubResource("Terrain3DTextureAsset_w0qho")])

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cllky"]
albedo_texture = ExtResource("8_n0d5i")
texture_filter = 4

[sub_resource type="BoxMesh" id="BoxMesh_53j0q"]
size = Vector3(20, 0.5, 20)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_53j0q"]
points = PackedVector3Array(-10, -0.25, -10, -10, 0.25, -10, 10, -0.25, -10, -10, -0.25, 10, -10, 0.25, 10, 10, 0.25, -10, 10, -0.25, 10, 10, 0.25, 10)

[sub_resource type="BoxMesh" id="BoxMesh_tnnpc"]
size = Vector3(3, 3, 0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ywpc4"]
points = PackedVector3Array(1.5, 1.5, 0.25, 1.5, 1.5, -0.25, -1.5, 1.5, 0.25, 1.5, -1.5, 0.25, 1.5, -1.5, -0.25, -1.5, 1.5, -0.25, -1.5, -1.5, 0.25, -1.5, -1.5, -0.25)

[sub_resource type="Curve3D" id="Curve3D_hfae5"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 205, 18, -160, 23.1945, -1.88864, -6.7821, -23.1945, 1.88864, 6.7821, 106, 32, -160, 34.5084, -2.90892, -2.46034, -34.5084, 2.90892, 2.46034, -8, 40, -155, 42.8374, 4.87859, 2.34279, -42.8374, -4.87859, -2.34279, -110, 37.5, -70, -6.84964, 3.7931, 10.5175, 6.84964, -3.7931, -10.5175, -220, 36, -140, 0, 0, 0, 0, 0, 0, -145, 30, -170),
"tilts": PackedFloat32Array(0, -0.73035, 0, -0.892695, 0, 0)
}
point_count = 6

[sub_resource type="PlaneMesh" id="PlaneMesh_kycso"]
size = Vector2(200, 200)
subdivide_width = 50
subdivide_depth = 50

[sub_resource type="NoiseTexture3D" id="NoiseTexture3D_vkc4h"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_clku2"]
render_priority = 0
shader = ExtResource("8_k07wl")
shader_parameter/Noise = SubResource("NoiseTexture3D_vkc4h")
shader_parameter/Color = Color(0.361457, 0.509218, 0.556288, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_k07wl"]
size = Vector3(200, 1, 200)

[sub_resource type="QuadMesh" id="QuadMesh_k07wl"]
flip_faces = true
size = Vector2(512, 20)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cllky"]
render_priority = 0
shader = ExtResource("9_hfae5")
shader_parameter/albedo_texture = ExtResource("10_clku2")
shader_parameter/opacity_texture = ExtResource("12_n0d5i")
shader_parameter/normal_texture = ExtResource("11_oavat")
shader_parameter/tint_color = Color(0.676897, 0.784936, 0.856733, 1)
shader_parameter/opacity_threshold = 0.4
shader_parameter/uv_scale_x = 40.0
shader_parameter/uv_scale_y = 2.0
shader_parameter/metallic = 0.3
shader_parameter/roughness = 0.6
shader_parameter/specular = 0.6
shader_parameter/normal_strength = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_kycso"]
size = Vector3(512, 20, 1)

[sub_resource type="Animation" id="Animation_vg07e"]
resource_name = "Cycling"
length = 360.0
loop_mode = 1
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sunlight:light_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 60, 120, 255, 300, 360),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0.0254098, 0.141021, 0.182007, 1), Color(0.0235294, 0.141176, 0.180392, 1), Color(0.530662, 0.672657, 0.765451, 1), Color(0.530662, 0.672657, 0.765451, 1), Color(0.0235294, 0.141176, 0.180392, 1), Color(0.0235294, 0.141176, 0.180392, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WorldEnvironment:environment:background_energy_multiplier")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 61, 122, 256, 302, 360),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.05, 0.05, 1.0, 1.0, 0.05, 0.05]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("WorldEnvironment:environment:fog_light_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 60, 120, 255, 300, 360),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0.350432, 0.486549, 0.574057, 1), Color(0.350432, 0.486549, 0.574057, 1), Color(0.676897, 0.784936, 0.856733, 1), Color(0.676897, 0.784936, 0.856733, 1), Color(0.350432, 0.486549, 0.574057, 1), Color(0.350432, 0.486549, 0.574057, 1)]
}

[sub_resource type="Animation" id="Animation_jh678"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sunlight:light_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.530662, 0.672657, 0.765451, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WorldEnvironment:environment:background_energy_multiplier")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("WorldEnvironment:environment:fog_light_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.676897, 0.784936, 0.856733, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jh678"]
_data = {
&"Cycling": SubResource("Animation_vg07e"),
&"RESET": SubResource("Animation_jh678")
}

[node name="GameWorld" type="Node3D" node_paths=PackedStringArray("particles_spawners")]
script = ExtResource("1_ui0sf")
particles_spawners = NodePath("Spawners/ParticlesSpawners")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7rqgy")

[node name="Sunlight" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.353553, 0.353553, 0, 0.707107, 0.707107, -0.5, 0.612372, -0.612372, 0, 10, 0)
light_color = Color(0.530662, 0.672657, 0.765451, 1)
shadow_blur = 0.0

[node name="Props" type="Node3D" parent="."]

[node name="ConcreteBlock" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 166, 3.896, -180.737)

[node name="ConcreteBlock2" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 162, 3.896, -180.737)

[node name="ConcreteBlock3" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 158, 3.896, -180.737)

[node name="ConcreteBlock4" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 154, 3.896, -180.737)

[node name="ConcreteBlock5" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.5, 4.4, 139.4)

[node name="ConcreteBlock6" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -48.5, 4.4, 139.3)

[node name="ConcreteBlock7" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.5, 4.4, 139.2)

[node name="ConcreteBlock8" parent="Props" instance=ExtResource("2_cllky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -56.5, 4.4, 139.1)

[node name="TrafficBarrier" parent="Props" instance=ExtResource("3_0alvi")]
transform = Transform3D(0.0174524, 0, 0.999848, 0, 1, 0, -0.999848, 0, 0.0174524, 89, 4.869, 33)

[node name="TrafficBarrier2" parent="Props" instance=ExtResource("3_0alvi")]
transform = Transform3D(0.906308, 0, -0.422618, 0, 1, 0, 0.422618, 0, 0.906308, -51, 4.555, 60)

[node name="Longhouse" parent="Props" instance=ExtResource("8_jh678")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -196, 2.5, -165)

[node name="LabFacility" parent="Props" instance=ExtResource("10_m5hn3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 145, 6, 151)

[node name="StreetLamps" type="Node3D" parent="Props"]

[node name="StreetLamp1" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -170, 4.7, -172)

[node name="StreetLamp2" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -150, 4.7, -189)

[node name="StreetLamp3" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -130, 4.7, -172)

[node name="StreetLamp4" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -110, 4.7, -189)

[node name="StreetLamp5" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -90, 4.7, -172)

[node name="StreetLamp6" parent="Props/StreetLamps" instance=ExtResource("9_vkc4h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -70, 4.7, -189)

[node name="Entities" type="Node3D" parent="."]

[node name="TestPlayer" parent="Entities" instance=ExtResource("1_q75nt")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, -174.303, 1.16859, -170.156)

[node name="ContagiousParticles" parent="Entities" instance=ExtResource("4_4qruq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 135.05, 6, 124.463)

[node name="Bush" parent="Entities" instance=ExtResource("6_4qruq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -130.313, 20.0431, -45.8641)

[node name="Decals" type="Node3D" parent="."]

[node name="BulletHole" parent="Decals" instance=ExtResource("4_30f34")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -172.869, 0.31983, -173.259)

[node name="Spawners" type="Node3D" parent="."]

[node name="PlayerSpawnMarker" type="Marker3D" parent="Spawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -170, 4, -180)
gizmo_extents = 5.0

[node name="PickupSpawnMarker1" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -150, 1, -160)
spawn_item = 1
spawn_item_hard = 1

[node name="PickupSpawnMarker2" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -150, 1, -158)
spawn_item = 1

[node name="PickupSpawnMarker3" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -149, 1, -158)
spawn_item = 1

[node name="PickupSpawnMarker4" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -149, 1, -162)
spawn_item = 1
spawn_item_hard = 1

[node name="PickupSpawnMarker5" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -148, 1, -161)
spawn_item = 1
spawn_item_hard = 1

[node name="PickupSpawnMarker6" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -146, 1, -158)
spawn_item = 2
spawn_item_hard = 2

[node name="PickupSpawnMarker7" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -149, 1, -156)
spawn_item = 2

[node name="PickupSpawnMarker8" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -147, 1, -156)
spawn_item = 3
spawn_item_hard = 3

[node name="PickupSpawnMarker9" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -144, 1, -155)
spawn_item = 4

[node name="PickupSpawnMarker10" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -145, 1, -155)
spawn_item = 4
spawn_item_hard = 4

[node name="PickupSpawnMarker11" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -146, 1, -152)
spawn_item = 4
spawn_item_hard = 4

[node name="PickupSpawnMarker12" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -145, 1, -153)
spawn_item = 4
spawn_item_hard = 4

[node name="PickupSpawnMarker13" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -143, 1, -153)
spawn_item = 5

[node name="PickupSpawnMarker14" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -143, 1, -158)
spawn_item = 5

[node name="PickupSpawnMarker15" parent="Spawners" instance=ExtResource("19_k0w3b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -142, 1, -156)
spawn_item = 5
spawn_item_hard = 5

[node name="ParticlesSpawners" type="Node3D" parent="Spawners"]

[node name="ParticlesSpawner1" type="Marker3D" parent="Spawners/ParticlesSpawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 36.224, 9, -21.545)
gizmo_extents = 2.0

[node name="ParticlesSpawner2" type="Marker3D" parent="Spawners/ParticlesSpawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.432, 6, 91.216)
gizmo_extents = 2.0

[node name="ParticlesSpawner3" type="Marker3D" parent="Spawners/ParticlesSpawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 159.075, 7, -173.463)
gizmo_extents = 2.0

[node name="ParticlesSpawner4" type="Marker3D" parent="Spawners/ParticlesSpawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 151.06, 8, 122.186)
gizmo_extents = 2.0

[node name="ParticlesSpawner5" type="Marker3D" parent="Spawners/ParticlesSpawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -142.876, 18, 15.131)
gizmo_extents = 2.0

[node name="Terrain3D" type="Terrain3D" parent="."]
data_directory = "res://Assets/Terrain3DData"
material = SubResource("Terrain3DMaterial_llaiv")
assets = SubResource("Terrain3DAssets_clku2")
collision_mode = 4
collision_mask = 4
show_contours = true
top_level = true
metadata/_edit_lock_ = true

[node name="RoadManager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 240, 0.4, -180)
script = ExtResource("13_cllky")
material_resource = SubResource("StandardMaterial3D_cllky")
collision_mask = 4
metadata/_custom_type_script = "uid://duw537farqvfb"

[node name="Road_001" type="Node3D" parent="RoadManager"]
script = ExtResource("15_ytq2i")
use_lowpoly_preview = true
collision_mask = 5
edge_containers = Array[NodePath]([NodePath(""), NodePath("../Road4way_1x1_Intersection")])
edge_rp_targets = Array[NodePath]([NodePath(""), NodePath("RP_001")])
edge_rp_target_dirs = Array[int]([-1, 0])
edge_rp_locals = Array[NodePath]([NodePath("RP_001"), NodePath("RP_004")])
edge_rp_local_dirs = Array[int]([0, 1])

[node name="RP_001" type="Node3D" parent="RoadManager/Road_001"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([3, 3])
next_mag = 24.0
prior_pt_init = NodePath("../RP_002")

[node name="RP_002" type="Node3D" parent="RoadManager/Road_001"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -50, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([3, 3])
prior_mag = 50.0
next_mag = 24.0366
prior_pt_init = NodePath("../RP_003")
next_pt_init = NodePath("../RP_001")

[node name="RP_003" type="Node3D" parent="RoadManager/Road_001"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -150, 0, -0.591)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([3, 3])
prior_mag = 50.0
next_mag = 50.0
prior_pt_init = NodePath("../RP_004")
next_pt_init = NodePath("../RP_002")

[node name="RP_004" type="Node3D" parent="RoadManager/Road_001"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -250, 0, -0.458)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([3, 3])
next_mag = 50.0
next_pt_init = NodePath("../RP_003")

[node name="Road4way_1x1_Intersection" parent="RoadManager" instance=ExtResource("20_m5hn3")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -266, 0, -0.457993)
edge_containers = Array[NodePath]([NodePath("../Road_001"), NodePath(""), NodePath(""), NodePath("../Road_003"), NodePath(""), NodePath("../Road_004"), NodePath("../Road_002"), NodePath("")])
edge_rp_targets = Array[NodePath]([NodePath("RP_004"), NodePath(""), NodePath(""), NodePath("RP_001"), NodePath(""), NodePath("RP_001"), NodePath("RP_001"), NodePath("")])
edge_rp_target_dirs = Array[int]([1, -1, -1, 0, -1, 0, 1, -1])

[node name="Road_002" type="Node3D" parent="RoadManager"]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, -266, 0, 15.542)
script = ExtResource("15_ytq2i")
use_lowpoly_preview = true
edge_containers = Array[NodePath]([NodePath("../Road4way_1x1_Intersection"), NodePath("")])
edge_rp_targets = Array[NodePath]([NodePath("RP_004"), NodePath("")])
edge_rp_target_dirs = Array[int]([0, -1])
edge_rp_locals = Array[NodePath]([NodePath("RP_001"), NodePath("RP_006")])
edge_rp_local_dirs = Array[int]([1, 0])

[node name="RP_001" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 8.0
next_pt_init = NodePath("../RP_002")

[node name="RP_002" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 16)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 8.0
next_mag = 42.0
prior_pt_init = NodePath("../RP_001")
next_pt_init = NodePath("../RP_003")

[node name="RP_003" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4, 100)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 42.0
next_mag = 55.0
prior_pt_init = NodePath("../RP_002")
next_pt_init = NodePath("../RP_004")

[node name="RP_004" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 76, 3.7, 180)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 55.0
next_mag = 32.0
prior_pt_init = NodePath("../RP_003")
next_pt_init = NodePath("../RP_005")

[node name="RP_005" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 140, 2.5, 180)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 32.0
next_mag = 49.0
prior_pt_init = NodePath("../RP_004")
next_pt_init = NodePath("../RP_006")

[node name="RP_006" type="Node3D" parent="RoadManager/Road_002"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 175, 2.55, 270)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 49.0
next_mag = 49.0
prior_pt_init = NodePath("../RP_005")

[node name="Road_003" type="Node3D" parent="RoadManager"]
transform = Transform3D(1, 0, 4.57398e-20, 0, 1, 0, -4.57398e-20, 0, 1, -282, 0, -0.457993)
script = ExtResource("15_ytq2i")
use_lowpoly_preview = true
edge_containers = Array[NodePath]([NodePath("../Road4way_1x1_Intersection"), NodePath("")])
edge_rp_targets = Array[NodePath]([NodePath("RP_002"), NodePath("")])
edge_rp_target_dirs = Array[int]([1, -1])
edge_rp_locals = Array[NodePath]([NodePath("RP_001"), NodePath("RP_003")])
edge_rp_local_dirs = Array[int]([0, 1])

[node name="RP_001" type="Node3D" parent="RoadManager/Road_003"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
next_mag = 16.0
prior_pt_init = NodePath("../RP_002")

[node name="RP_002" type="Node3D" parent="RoadManager/Road_003"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -32, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 71.5
next_mag = 16.0
prior_pt_init = NodePath("../RP_003")
next_pt_init = NodePath("../RP_001")

[node name="RP_003" type="Node3D" parent="RoadManager/Road_003"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -175, 0, 0)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 71.5
next_pt_init = NodePath("../RP_002")

[node name="Road_004" type="Node3D" parent="RoadManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -266, 0, -16.458)
script = ExtResource("15_ytq2i")
use_lowpoly_preview = true
edge_containers = Array[NodePath]([NodePath("../Road4way_1x1_Intersection"), NodePath("")])
edge_rp_targets = Array[NodePath]([NodePath("RP_003"), NodePath("")])
edge_rp_target_dirs = Array[int]([1, -1])
edge_rp_locals = Array[NodePath]([NodePath("RP_001"), NodePath("RP_002")])
edge_rp_local_dirs = Array[int]([0, 1])

[node name="RP_001" type="Node3D" parent="RoadManager/Road_004"]
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
next_mag = 20.0
prior_pt_init = NodePath("../RP_002")

[node name="RP_002" type="Node3D" parent="RoadManager/Road_004"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -40)
script = ExtResource("16_4qruq")
traffic_dir = Array[int]([2, 1])
auto_lanes = false
lanes = Array[int]([2, 2])
prior_mag = 20.0
next_mag = 20.0
next_pt_init = NodePath("../RP_001")

[node name="TestGround" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
visible = false
collision_mask = 4

[node name="GroundMesh" type="MeshInstance3D" parent="TestGround"]
mesh = SubResource("BoxMesh_53j0q")
skeleton = NodePath("../..")

[node name="Col" type="CollisionShape3D" parent="TestGround"]
shape = SubResource("ConvexPolygonShape3D_53j0q")

[node name="TestWall" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -2.393)
visible = false
collision_mask = 4

[node name="Mesh" type="MeshInstance3D" parent="TestWall"]
mesh = SubResource("BoxMesh_tnnpc")

[node name="Col" type="CollisionShape3D" parent="TestWall"]
shape = SubResource("ConvexPolygonShape3D_ywpc4")

[node name="IntroPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_hfae5")

[node name="IntroPathFollow" type="PathFollow3D" parent="IntroPath"]
transform = Transform3D(0.999888, 0, 0, 0, 0.999881, 0, 0, 0, 0.999891, -153.742, 35.7404, -84.0622)
progress = 398.867
rotation_mode = 0
loop = false
tilt_enabled = false

[node name="IntroCam" type="Camera3D" parent="IntroPath/IntroPathFollow"]
transform = Transform3D(-4.37163e-08, 0, 1.00011, 0, 1.00012, 0, -1.00011, 0, -4.37162e-08, 0, 0, 0)
cull_mask = 1048573
current = true
far = 256.0

[node name="IntroDoneTimer" type="Timer" parent="IntroPath/IntroPathFollow"]
one_shot = true

[node name="PrototypeMapDesign" type="Node3D" parent="."]
visible = false

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="PrototypeMapDesign"]
operation = 2

[node name="CSGGround" type="CSGBox3D" parent="PrototypeMapDesign/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.2, 0)
size = Vector3(50, 1, 20)

[node name="CSGSlope" type="CSGBox3D" parent="PrototypeMapDesign/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.887011, 0.461749, 0, -0.461749, 0.887011, 6.5, -3, -13.3)
size = Vector3(10, 1, 8)

[node name="Water" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, 0, 94)
collision_layer = 2
collision_mask = 0
monitoring = false

[node name="WaterMesh" type="MeshInstance3D" parent="Water"]
layers = 2
mesh = SubResource("PlaneMesh_kycso")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("ShaderMaterial_clku2")

[node name="Col" type="CollisionShape3D" parent="Water"]
shape = SubResource("BoxShape3D_k07wl")
debug_color = Color(1, 1, 0.223529, 1)

[node name="ChainFence1" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 254)
collision_mask = 4

[node name="Mesh" type="MeshInstance3D" parent="ChainFence1"]
mesh = SubResource("QuadMesh_k07wl")
surface_material_override/0 = SubResource("ShaderMaterial_cllky")

[node name="Col" type="CollisionShape3D" parent="ChainFence1"]
shape = SubResource("BoxShape3D_kycso")
debug_color = Color(0.144307, 0.179155, 0.383279, 0.721569)

[node name="ChainFence2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 10, -254)
collision_mask = 4

[node name="Mesh" type="MeshInstance3D" parent="ChainFence2"]
mesh = SubResource("QuadMesh_k07wl")
surface_material_override/0 = SubResource("ShaderMaterial_cllky")

[node name="Col" type="CollisionShape3D" parent="ChainFence2"]
shape = SubResource("BoxShape3D_kycso")
debug_color = Color(0.144307, 0.179155, 0.383279, 0.721569)

[node name="ChainFence3" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 254, 10, 0)
collision_mask = 4

[node name="Mesh" type="MeshInstance3D" parent="ChainFence3"]
mesh = SubResource("QuadMesh_k07wl")
surface_material_override/0 = SubResource("ShaderMaterial_cllky")

[node name="Col" type="CollisionShape3D" parent="ChainFence3"]
shape = SubResource("BoxShape3D_kycso")
debug_color = Color(0.144307, 0.179155, 0.383279, 0.721569)

[node name="ChainFence4" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -254, 10, 0)
collision_mask = 4

[node name="Mesh" type="MeshInstance3D" parent="ChainFence4"]
mesh = SubResource("QuadMesh_k07wl")
surface_material_override/0 = SubResource("ShaderMaterial_cllky")

[node name="Col" type="CollisionShape3D" parent="ChainFence4"]
shape = SubResource("BoxShape3D_kycso")
debug_color = Color(0.144307, 0.179155, 0.383279, 0.721569)

[node name="DayNightCycleAnim" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_jh678")
}

[node name="ParticlesSpawnTimer" type="Timer" parent="."]
wait_time = 45.0

[node name="TestingBlocks" type="CSGCombiner3D" parent="."]
visible = false
collision_mask = 5

[node name="SlopeTest" type="CSGBox3D" parent="TestingBlocks"]
transform = Transform3D(0.573576, -0.579228, -0.579228, 0, 0.707107, -0.707107, 0.819152, 0.40558, 0.40558, -161.329, 3.88909, -156.919)
use_collision = true
collision_mask = 5
size = Vector3(10, 10, 1)

[node name="BallTest" type="CSGSphere3D" parent="TestingBlocks"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -170.98, 2, -165.592)
radius = 1.0
radial_segments = 24
rings = 8

[node name="HillMarker" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -145, 32, 40)
gizmo_extents = 5.0

[node name="RoadMarker" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -90, 30, -170)
gizmo_extents = 5.0

[connection signal="timeout" from="IntroPath/IntroPathFollow/IntroDoneTimer" to="." method="_on_IntroDoneTimer_timeout"]
[connection signal="timeout" from="ParticlesSpawnTimer" to="." method="_on_ParticlesSpawnTimer_timeout"]
